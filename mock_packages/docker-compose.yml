version: '3.8'

services:
  zj_humanoid_mock:
    build:
      context: ..  # Build from project root to access api_struct/
      dockerfile: mock_packages/Dockerfile
    container_name: zj_humanoid_mock
    image: zj_humanoid_mock:latest
    network_mode: host  # Use host network for ROS communication
    environment:
      - ROS_MASTER_URI=http://localhost:11311
      - ROS_HOSTNAME=localhost
    volumes:
      # Optional: mount custom config or data
      - ./logs:/catkin_ws/logs
    # Override default command if needed
    # Examples:
    # command: ["mock", "--modules", "upperlimb", "hand"]
    # command: ["mock", "--publish-rate-scale", "0.5"]
    # command: ["bash"]  # Interactive shell
    stdin_open: true
    tty: true

